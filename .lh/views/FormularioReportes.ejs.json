{
    "sourceFile": "views/FormularioReportes.ejs",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1748450653166,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1748450653166,
            "name": "Commit-0",
            "content": "<!DOCTYPE html>\r\n<html lang=\"es\">\r\n<head>\r\n  <meta charset=\"UTF-8\" />\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n  <title><%= title %></title>\r\n  <link rel=\"stylesheet\" href=\"/styles/FormularioReporte.css\" />\r\n</head>\r\n<body>\r\n\r\n<div class=\"formulario\">\r\n  <h1>Formulario de Reporte de Maltrato Animal</h1>\r\n\r\n  <% if (typeof error !== 'undefined' && error) { %>\r\n    <p style=\"color: red; font-weight: bold;\"><%= error %></p>\r\n  <% } %>\r\n  <% if (typeof success !== 'undefined' && success) { %>\r\n    <p style=\"color: green; font-weight: bold;\"><%= success %></p>\r\n  <% } %>\r\n\r\n  <form id=\"formReporte\" class=\"contenedor\" action=\"/Form_Reporte\" method=\"POST\" novalidate>\r\n\r\n    <input type=\"hidden\" name=\"id_usuario\" value=\"<%= user?.id || '' %>\" />\r\n\r\n    <div class=\"seccion\">\r\n      <h2>Información Personal</h2>\r\n\r\n      <label for=\"nombre\">Nombre completo:</label>\r\n      <input type=\"text\" id=\"nombre\" name=\"nombre\" value=\"<%= user?.nombre || '' %>\" required readonly>\r\n      <span class=\"error\" id=\"errorNombre\"></span>\r\n\r\n      <label for=\"email\">Correo electrónico:</label>\r\n      <input type=\"email\" id=\"email\" name=\"email\" value=\"<%= user?.correo || '' %>\" required readonly>\r\n      <span class=\"error\" id=\"errorEmail\"></span>\r\n    </div>\r\n\r\n    <div class=\"seccion\">\r\n      <h2>Motivo del maltrato</h2>\r\n      <div class=\"radio-group\">\r\n        <label><input type=\"radio\" name=\"tipodemaltrato\" value=\"abandono\" required> Abandono</label>\r\n        <label><input type=\"radio\" name=\"tipodemaltrato\" value=\"malnutricion\"> Malnutrición</label>\r\n        <label><input type=\"radio\" name=\"tipodemaltrato\" value=\"agresionfisica\"> Agresiones físicas</label>\r\n        <label><input type=\"radio\" name=\"tipodemaltrato\" value=\"condicion\"> Condición insalubre</label>\r\n        <label><input type=\"radio\" name=\"tipodemaltrato\" value=\"atencion\"> Falta de atención veterinaria</label>\r\n        <label><input type=\"radio\" name=\"tipodemaltrato\" value=\"otro\"> Otro</label>\r\n      </div>\r\n      <span class=\"error\" id=\"errorTipoMaltrato\"></span>\r\n    </div>\r\n\r\n    <div class=\"seccion\">\r\n      <h2>Datos del maltrato</h2>\r\n      <label for=\"fecha\">Fecha aproximada del incidente:</label>\r\n      <input type=\"date\" id=\"fecha\" name=\"fecha\" value=\"<%= formData.fecha || '' %>\" required>\r\n      <span class=\"error\" id=\"errorFecha\"></span>\r\n\r\n      <label>Tipo de pruebas:</label>\r\n      <div class=\"checkbox-group\">\r\n        <label><input type=\"checkbox\" name=\"pruebas\" value=\"fotografias\"> Fotografías</label>\r\n        <label><input type=\"checkbox\" name=\"pruebas\" value=\"videos\"> Videos</label>\r\n        <label><input type=\"checkbox\" name=\"pruebas\" value=\"testigos\"> Testigos</label>\r\n      </div>\r\n\r\n      <label for=\"pruebasOtro\">Otro (especificar):</label>\r\n      <textarea id=\"pruebasOtro\" name=\"pruebasOtro\" rows=\"3\" placeholder=\"Describe otro tipo de pruebas\"><%= formData.pruebasOtro || '' %></textarea>\r\n    </div>\r\n\r\n    <div class=\"boton-contenedor\">\r\n      <button type=\"submit\">Enviar Reporte</button>\r\n      <a href=\"/menu\" class=\"boton-volver\">Volver al Menú</a>\r\n    </div>\r\n\r\n  </form>\r\n</div>\r\n\r\n<script>\r\n  const form = document.getElementById('formReporte');\r\n\r\n  form.addEventListener('submit', function(event) {\r\n    let valid = true;\r\n    document.querySelectorAll('.error').forEach(span => span.textContent = '');\r\n\r\n    const nombre = document.getElementById('nombre').value.trim();\r\n    const email = document.getElementById('email').value.trim();\r\n    const tipodemaltrato = document.querySelector('input[name=\"tipodemaltrato\"]:checked');\r\n    const fecha = document.getElementById('fecha').value;\r\n\r\n    if (!nombre) {\r\n      document.getElementById('errorNombre').textContent = 'El nombre es obligatorio.';\r\n      valid = false;\r\n    }\r\n    if (!email) {\r\n      document.getElementById('errorEmail').textContent = 'El correo es obligatorio.';\r\n      valid = false;\r\n    }\r\n    if (!tipodemaltrato) {\r\n      document.getElementById('errorTipoMaltrato').textContent = 'Seleccione un motivo de maltrato.';\r\n      valid = false;\r\n    }\r\n    if (!fecha) {\r\n      document.getElementById('errorFecha').textContent = 'Ingrese la fecha aproximada.';\r\n      valid = false;\r\n    }\r\n\r\n    if (!valid) event.preventDefault();\r\n  });\r\n</script>\r\n\r\n</body>\r\n</html>\r\n"
        }
    ]
}